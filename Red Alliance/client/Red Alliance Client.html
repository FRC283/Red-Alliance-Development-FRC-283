<html>
	<head>
		<title>CLIENT - RED ALLIANCE</title>
		<link rel="stylesheet" type="text/css" href="../css/client_style.css">
	</head>
	<body>
		<header>
			<div id="logo">FRC Team 283 - RED ALLIANCE</div>
		</header>
	</body>
	<script>
		//---FUNCTION DEFINITIONS---
		function renderInput(parent, input) //Takes the passed input object and renders it in html as a child of the given parent
		{
			console.log("	Rendering input with name: " + input.name);
		}
		
		function renderLevel(parent, level) //Iterates through the given level, creating <div>'s as necesary as well as <input>'s. Recursively calls itself on non-terminating elements
		{
			var currentObj; //The current DOM object being configured
			for (i = 0; i < level.length; i++) //For each division (Match, Pit, Auto, Teleop, Etc)
			{
				console.log("Creating object for: " + level[i].name)
				currentObj = document.createElement("div");
				currentObj.id = level[i].name;
				parent.appendChild(currentObj);
				if (level[i].terminal == false) //If not terminal, read the next level
				{
					console.log("-" + level[i].name + " is not terminating.");
					renderLevel(currentObj, level[i].tabs); //Read the next level to make its divisions
				}
				else //Otherwise, begin rendering inputs
				{
					console.log("-" + level[i].name + " is terminating.");
					for (j = 0; j < level[i].inputs.length; j++)
					{
						renderInput(currentObj, level[i].inputs[j]);
					}
				}
			}
		}
		
		//---GLOBAL VARIABLES---
		var configFile = [
							{
								"name":"Match",
								"terminal":false,
								"tabs":
								[
									{
										"name":"Main",
										"terminal":true,
										"inputs":
										[
											{
												"name":"Match Number",
												"type":"text",
												"value":null,
												"required":true,
												"hotkey":"~",
												"details":
												{
													"textarea":false
												}
											},
											{
												"name":"Team Number",
												"type":"number",
												"value":null,
												"required":true,
												"hotkey":"1",
												"details":
												{
													"min":1,
													"max":9999,
													"step":1,
													"slider":false,
													"fraction":false
												}
											},
											{
												"name":"Team Name",
												"type":"text",
												"value":null,
												"required":true,
												"hotkey":"2",
												"details":
												{
													"textarea":false
												}
											}
										]
									},
									{
										"name":"Auto",
										"terminal":true,
										"inputs":
										[
											{
												"name":"Crosses Baseline Successfully",
												"type":"checkbox",
												"value":null,
												"required":true,
												"hotkey":"4",
												"details":
												{
													"options":[""]
												}
											},
											{
												"name":"Cubes Put In Switch",
												"type":"number",
												"value":null,
												"required":true,
												"hotkey":"5",
												"details":
												{
													"min":0,
													"max":999,
													"step":1,
													"slider":false,
													"fraction":true
												}
											},
											{
												"name":"Cubes Put In Scale",
												"type":"number",
												"value":null,
												"required":true,
												"hotkey":"Q",
												"details":
												{
													"min":0,
													"max":999,
													"step":1,
													"slider":false,
													"fraction":true
												}
											},
											{
												"name":"Cubes Put In Vault/Exchange Zone",
												"type":"number",
												"value":null,
												"required":true,
												"hotkey":"W",
												"details":
												{
													"min":0,
													"max":999,
													"step":1,
													"slider":false,
													"fraction":true
												}
											},
											{
												"name":"Comments/Overview",
												"type":"text",
												"value":null,
												"required":true,
												"hotkey":"E",
												"details":
												{
													"textarea":true
												}
											}
										]
									},
									{
										"name":"Teleop",
										"terminal":true,
										"inputs":
										[
											{
												"name":"Cubes Put In Switch",
												"type":"number",
												"value":null,
												"required":true,
												"hotkey":"R",
												"details":
												{
													"min":0,
													"max":999,
													"step":1,
													"slider":false,
													"fraction":true
												}
											},
											{
												"name":"Cubes Put In Scale",
												"type":"number",
												"value":null,
												"required":true,
												"hotkey":"A",
												"details":
												{
													"min":0,
													"max":999,
													"step":1,
													"slider":false,
													"fraction":true
												}
											},
											{
												"name":"Cubes Put In Vault/Exchange Zone",
												"type":"number",
												"value":null,
												"required":true,
												"hotkey":"5",
												"details":
												{
													"min":0,
													"max":999,
													"step":1,
													"slider":false,
													"fraction":true
												}
											},
											{
												"name":"Primary Source of Cubes",
												"type":"radio",
												"value":null,
												"required":true,
												"hotkey":"D",
												"details":
												{
													"options":["Allied Platform", "Enemy Platform", "Portal", "Power Cube Zone"]
												}
											},
											{
												"name":"Attempts to Block Enemy Scoring",
												"type":"checkbox",
												"value":null,
												"required":true,
												"hotkey":"F",
												"details":
												{
													"options":[""]
												}
											},
											{
												"name":"Lifts Successfully",
												"type":"checkbox",
												"value":null,
												"required":true,
												"hotkey":"Z",
												"details":
												{
													"options":[""]
												}
											},
											{
												"name":"Another Robot Hangs Off of This One",
												"type":"checkbox",
												"value":null,
												"required":true,
												"hotkey":"X",
												"details":
												{
													"options":[""]
												}
											},
											{
												"name":"Main Strategy",
												"type":"checkbox",
												"value":null,
												"required":true,
												"hotkey":"C",
												"details":
												{
													"options":["Put Cubes on Switch", "Put Cubes on Scale", "Provide Cubes to Vault", "Lift Reliably"]
												}
											},
											{
												"name":"Comments/Overview",
												"type":"text",
												"value":null,
												"required":true,
												"hotkey":"L-Shift",
												"details":
												{
													"textarea":true
												}
											}
										]
									}
								]
							},
							{
								"name":"Pit",
								"terminal":true,
								"inputs":
								[
									{
										"name":"Robot Image",
										"type":"image",
										"value":null,
										"required":"false",
										"hotkey":null,
										"details":
										{
											"formats":[".png",".jpg"]
										}
									},
									{
										"name":"Team Number",
										"type":"number",
										"value":null,
										"required":true,
										"hotkey":"null",
										"details":
										{
											"min":1,
											"max":9999,
											"step":1,
											"slider":false,
											"fraction":false
										}
									},
									{
										"name":"Team Name",
										"type":"text",
										"value":null,
										"required":true,
										"hotkey":"null",
										"details":
										{
											"textarea":false
										}
									},
									{
										"name":"Type of Motors on Drivetrain",
										"type":"text",
										"value":null,
										"required":true,
										"hotkey":"null",
										"details":
										{
											"textarea":false
										}
									},
									{
										"name":"Number of Motors on Drive",
										"type":"text",
										"value":null,
										"required":true,
										"hotkey":"null",
										"details":
										{
											"textarea":false
										}
									},
									{
										"name":"Drivetrain Overview/Comments",
										"type":"text",
										"value":null,
										"required":true,
										"hotkey":"null",
										"details":
										{
											"textarea":false
										}
									},
									{
										"name":"Can Lift",
										"type":"checkbox",
										"value":null,
										"required":true,
										"hotkey":"null",
										"details":
										{
											"options":[""]
										}
									},
									{
										"name":"Lift Clearance from Ground",
										"type":"number",
										"value":0,
										"required":true,
										"hotkey":"null",
										"details":
										{
											"min":1,
											"max":120,
											"step":0.5,
											"slider":true,
											"fraction":false
										}
									},
									{
										"name":"Automatically Adjusts Side on Autonomous",
										"type":"checkbox",
										"value":null,
										"required":true,
										"hotkey":"null",
										"details":
										{
											"options":[""]
										}
									},
									{
										"name":"Puts Cube on Switch in Autonomous",
										"type":"checkbox",
										"value":null,
										"required":true,
										"hotkey":"null",
										"details":
										{
											"options":[""]
										}
									},
									{
										"name":"Puts Cube on Scale in Autonomous",
										"type":"checkbox",
										"value":null,
										"required":true,
										"hotkey":"null",
										"details":
										{
											"options":[""]
										}
									},
									{
										"name":"Main Strategy",
										"type":"checkbox",
										"value":null,
										"required":true,
										"hotkey":"null",
										"details":
										{
											"options":["Put Cubes on Switch", "Put Cubes on Scale", "Provide Cubes to Vault", "Lift Reliably"]
										}
									},
									{
										"name":"Primary Source of Cubes",
										"type":"radio",
										"value":null,
										"required":true,
										"hotkey":"null",
										"details":
										{
											"options":["Allied Platform", "Enemy Platform", "Portal", "Power Cube Zone"]
										}
									}
								]
							}	
						];
		
		//---ONLOAD FUNCTION CALLS---
		renderLevel(document.body, configFile); //Renders the configuration object above, using the document body as the parent
	</script>
</html>